================================================================================
批量数据集采样
================================================================================
输入基础目录: /mnt/parallel/GIDigitalTwinBench/RealSelf
输出基础目录: ./sampled_data
每用户最多样本数: 3
随机种子: 42
强制覆盖: true
================================================================================

--------------------------------------------------------------------------------
处理数据集: Chameleons
--------------------------------------------------------------------------------
================================================================================
数据集采样工具
================================================================================
输入文件: /mnt/parallel/GIDigitalTwinBench/RealSelf/Chameleons/train.json
输出文件: ./sampled_data/Chameleons/train_3.json
每用户最多样本数: 3
随机种子: 42
用户ID字段: user_hash

📖 读取数据集...
✅ 原始样本数: 7797
📊 按用户分组 (使用字段: user_hash)...
✅ 唯一用户数: 6117
✅ 平均每用户样本数: 1.27

样本数分布 (前10个):
    1 个样本:  5342 个用户
    2 个样本:   460 个用户
    3 个样本:   151 个用户
    4 个样本:    54 个用户
    5 个样本:    45 个用户
    6 个样本:    19 个用户
    7 个样本:     9 个用户
    8 个样本:     7 个用户
    9 个样本:     9 个用户
   10 个样本:     8 个用户
  ... (共 20 种不同的样本数)

🎲 开始采样 (每用户最多 3 个样本)...
✅ 采样完成
   - 新样本数: 7207
   - 移除样本数: 590 (7.57%)
   - 受影响用户数: 164 (2.68%)
   - 保留比例: 92.43%

💾 保存到: ./sampled_data/Chameleons/train_3.json
✅ 完成！
================================================================================
✅ 成功

--------------------------------------------------------------------------------
处理数据集: LovinkDialogue
--------------------------------------------------------------------------------
⚠️  跳过: 输入文件不存在: /mnt/parallel/GIDigitalTwinBench/RealSelf/LovinkDialogue/train.json

--------------------------------------------------------------------------------
处理数据集: LovinkQuestionnaire
--------------------------------------------------------------------------------
⚠️  跳过: 输入文件不存在: /mnt/parallel/GIDigitalTwinBench/RealSelf/LovinkQuestionnaire/train.json

--------------------------------------------------------------------------------
处理数据集: MovieLens
--------------------------------------------------------------------------------
================================================================================
数据集采样工具
================================================================================
输入文件: /mnt/parallel/GIDigitalTwinBench/RealSelf/MovieLens/train.json
输出文件: ./sampled_data/MovieLens/train_3.json
每用户最多样本数: 3
随机种子: 42
用户ID字段: user_hash

📖 读取数据集...
✅ 原始样本数: 10000
📊 按用户分组 (使用字段: user_hash)...
✅ 唯一用户数: 10000
✅ 平均每用户样本数: 1.00

样本数分布 (前10个):
    1 个样本: 10000 个用户

🎲 开始采样 (每用户最多 3 个样本)...
✅ 采样完成
   - 新样本数: 10000
   - 移除样本数: 0 (0.00%)
   - 受影响用户数: 0 (0.00%)
   - 保留比例: 100.00%

💾 保存到: ./sampled_data/MovieLens/train_3.json
✅ 完成！
================================================================================
✅ 成功

--------------------------------------------------------------------------------
处理数据集: PERSONA_Bench
--------------------------------------------------------------------------------
⚠️  跳过: 输入文件不存在: /mnt/parallel/GIDigitalTwinBench/RealSelf/PERSONA_Bench/train.json

--------------------------------------------------------------------------------
处理数据集: RealPersonaChat
--------------------------------------------------------------------------------
⚠️  跳过: 输入文件不存在: /mnt/parallel/GIDigitalTwinBench/RealSelf/RealPersonaChat/train.json

--------------------------------------------------------------------------------
处理数据集: REALTALK
--------------------------------------------------------------------------------
================================================================================
数据集采样工具
================================================================================
输入文件: /mnt/parallel/GIDigitalTwinBench/RealSelf/REALTALK/train.json
输出文件: ./sampled_data/REALTALK/train_3.json
每用户最多样本数: 3
随机种子: 42
用户ID字段: user_hash

📖 读取数据集...
✅ 原始样本数: 10
📊 按用户分组 (使用字段: user_hash)...
✅ 唯一用户数: 10
✅ 平均每用户样本数: 1.00

样本数分布 (前10个):
    1 个样本:    10 个用户

🎲 开始采样 (每用户最多 3 个样本)...
✅ 采样完成
   - 新样本数: 10
   - 移除样本数: 0 (0.00%)
   - 受影响用户数: 0 (0.00%)
   - 保留比例: 100.00%

💾 保存到: ./sampled_data/REALTALK/train_3.json
✅ 完成！
================================================================================
✅ 成功

--------------------------------------------------------------------------------
处理数据集: DMSC
--------------------------------------------------------------------------------
================================================================================
数据集采样工具
================================================================================
输入文件: /mnt/parallel/GIDigitalTwinBench/RealSelf/DMSC/train.json
输出文件: ./sampled_data/DMSC/train_3.json
每用户最多样本数: 3
随机种子: 42
用户ID字段: user_hash

📖 读取数据集...
✅ 原始样本数: 7220
📊 按用户分组 (使用字段: user_hash)...
✅ 唯一用户数: 7220
✅ 平均每用户样本数: 1.00

样本数分布 (前10个):
    1 个样本:  7220 个用户

🎲 开始采样 (每用户最多 3 个样本)...
✅ 采样完成
   - 新样本数: 7220
   - 移除样本数: 0 (0.00%)
   - 受影响用户数: 0 (0.00%)
   - 保留比例: 100.00%

💾 保存到: ./sampled_data/DMSC/train_3.json
✅ 完成！
================================================================================
✅ 成功

================================================================================
采样完成
================================================================================
总数据集数: 8
成功: 4
失败/跳过: 4

失败/跳过的数据集:
  - LovinkDialogue (文件不存在)
  - LovinkQuestionnaire (文件不存在)
  - PERSONA_Bench (文件不存在)
  - RealPersonaChat (文件不存在)
================================================================================
